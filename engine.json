{
  "comment":" This config file uses default settings for all but the required values see README.md for docs",
  "id": "default",
  "description": "Default settings",
  "engineFactory": "com.actionml.RecommendationEngine",
  "datasource": {
    "params" : {
      "name": "grao_recomendacao_events",
      "appName": "grao_recomendacao",
      "eventNames": ["purchase","view","category-preference","gender-preference","color-preference"],
      "minEventsPerUser": 3
    }
  },
  "sparkConf": {
    "spark.serializer": "org.apache.spark.serializer.KryoSerializer",
    "spark.kryo.registrator": "org.apache.mahout.sparkbindings.io.MahoutKryoRegistrator",
    "spark.kryo.referenceTracking": "false",
    "spark.kryoserializer.buffer": "300m",
    "spark.driver.memory": "2g",
    "spark.executor.memory": "24g",
    "es.index.auto.create": "true"
  },
  "algorithms": [
    {
      "comment": "simplest setup where all values are default, popularity based backfill, must add eventsNames",
      "name": "cur",
      "params": {
        "appName": "grao_recomendacao",
        "indexName": "grao_index",
        "typeName": "items",
        "comment": "must have data for the first event or the model will not build, other events are optional",
        "indicators": [
          {
            "name": "purchase",          
          },{
            "name": "view",
            "maxCorrelatorsPerItem": 50,
            "maxItemsPerUser":5,
            "minLLR": 5
          },{
            "name": "category-preference",
            "maxCorrelatorsPerItem": 50,
            "maxItemsPerUser":3,
            "minLLR": 5
          },{	
            "name": "gender-preference",
            "maxItemsPerUser":1,
            "maxCorrelatorsPerItem": 1
          },{
            "name": "color-preference",
            "maxCorrelatorsPerItem": 3,
            "maxItemsPerUser":2,
            "minLLR": 5
          }
        ],    
        "availableDateName": "available",
        "expireDateName": "expires",
        "dateName": "date",
        "num": 10,
        "seed": 3,
        "recsModel": "all",
        "rankings": [
          {
            "name": "popRank",
            "type": "popular",
            "eventNames": ["purchase", "view"],
            "duration": "30 days",
            "endDate": "ISO8601-date"
          },
          {
            "name": "trendRank",
            "type": "trending",
            "eventNames": ["purchase"],
            "duration": "3 days"
          },
          {
            "name": "hotRank",
            "type": "hot",
            "duration": "3 days"
          },
          {
            "name": "preferredRank",
            "type": "userDefined"
          },
          {
            "name": "uniqueRank",
            "type": "random"
          }
        ],
      }
    }
  ]
}
